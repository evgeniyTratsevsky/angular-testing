# –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —à–ø–∞—Ä–≥–∞–ª–∫–∞

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –±—ã—Å—Ç—Ä—ã–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —á–∞—Å—Ç—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Angular —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Jasmine, TestBed –∏ Karma.

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
- [–ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∞](#–±–∞–∑–æ–≤–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ç–µ—Å—Ç–∞)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-—Å–µ—Ä–≤–∏—Å–æ–≤)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- [–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —à–ø–∏–æ–Ω—ã](#–º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ-–∏-—à–ø–∏–æ–Ω—ã)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ DOM](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-dom)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ñ–æ—Ä–º)
- [–û–±—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã](#–æ–±—â–∏–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã)

---

## –ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∞

### –ü—Ä–æ—Å—Ç–æ–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤
```typescript
describe('–ò–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–ª–∏ —Å–µ—Ä–≤–∏—Å–∞', () => {
  // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø–µ—Ä–µ–¥ –≤—Å–µ–º–∏ —Ç–µ—Å—Ç–∞–º–∏
  beforeAll(() => {
    console.log('–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–¥–∏–Ω —Ä–∞–∑');
  });

  // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —Ç–µ—Å—Ç–æ–º
  beforeEach(() => {
    console.log('–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —Ç–µ—Å—Ç–æ–º');
  });

  // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞
  afterEach(() => {
    console.log('–û—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞');
  });

  // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
  afterAll(() => {
    console.log('–û—á–∏—Å—Ç–∫–∞ –æ–¥–∏–Ω —Ä–∞–∑');
  });

  it('–¥–æ–ª–∂–µ–Ω —á—Ç–æ-—Ç–æ –¥–µ–ª–∞—Ç—å', () => {
    expect(true).toBe(true);
  });

  // –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç
  xit('–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω', () => {
    expect(false).toBe(true);
  });

  // –°—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Ç–µ—Å—Ç–µ (–≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–Ω)
  fit('–¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç —Ç–µ—Å—Ç', () => {
    expect(true).toBe(true);
  });
});
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤

### –ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç —Å–µ—Ä–≤–∏—Å–∞
```typescript
import { TestBed } from '@angular/core/testing';
import { MyService } from './my.service';

describe('MyService', () => {
  let service: MyService;

  beforeEach(() => {
    TestBed.configureTestingModule({
      providers: [MyService]
    });
    service = TestBed.inject(MyService);
  });

  it('–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω', () => {
    expect(service).toBeTruthy();
  });

  it('–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –¥–∞–Ω–Ω—ã–µ', () => {
    const result = service.getData();
    expect(result).toEqual(['–¥–∞–Ω–Ω—ã–µ1', '–¥–∞–Ω–Ω—ã–µ2']);
  });
});
```

### –°–µ—Ä–≤–∏—Å —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
```typescript
describe('–°–µ—Ä–≤–∏—Å–°–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏', () => {
  let service: MyService;
  let mockDep: jasmine.SpyObj<DependencyService>;

  beforeEach(() => {
    mockDep = jasmine.createSpyObj('DependencyService', ['–º–µ—Ç–æ–¥1', '–º–µ—Ç–æ–¥2']);
    
    TestBed.configureTestingModule({
      providers: [
        MyService,
        { provide: DependencyService, useValue: mockDep }
      ]
    });
    
    service = TestBed.inject(MyService);
  });

  it('–¥–æ–ª–∂–µ–Ω –≤—ã–∑–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å', () => {
    mockDep.–º–µ—Ç–æ–¥1.and.returnValue('–∑–∞–º–æ–∫–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç');
    const result = service.doSomething();
    expect(mockDep.–º–µ—Ç–æ–¥1).toHaveBeenCalled();
    expect(result).toBe('–∑–∞–º–æ–∫–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç');
  });
});
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Observable
```typescript
import { of, throwError } from 'rxjs';

it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —É—Å–ø–µ—à–Ω—ã–π observable', (done) => {
  service.getData().subscribe(data => {
    expect(data).toBeDefined();
    expect(data.length).toBeGreaterThan(0);
    done();
  });
});

it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É observable', (done) => {
  service.getDataWithError().subscribe({
    next: () => fail('–¥–æ–ª–∂–µ–Ω –±—ã–ª —É–ø–∞—Å—Ç—å'),
    error: (error) => {
      expect(error).toBeDefined();
      done();
    }
  });
});
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
```typescript
import { ComponentFixture, TestBed } from '@angular/core/testing';
import { MyComponent } from './my.component';

describe('MyComponent', () => {
  let component: MyComponent;
  let fixture: ComponentFixture<MyComponent>;
  let compiled: HTMLElement;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [MyComponent] // –î–ª—è standalone –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    }).compileComponents();

    fixture = TestBed.createComponent(MyComponent);
    component = fixture.componentInstance;
    compiled = fixture.nativeElement;
    fixture.detectChanges();
  });

  it('–¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å—Å—è', () => {
    expect(component).toBeTruthy();
  });
});
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
```typescript
beforeEach(async () => {
  const mockService = jasmine.createSpyObj('DataService', ['getData']);
  mockService.getData.and.returnValue(of([{ id: 1, name: '–¢–µ—Å—Ç' }]));

  await TestBed.configureTestingModule({
    imports: [MyComponent, CommonModule],
    providers: [
      { provide: DataService, useValue: mockService }
    ]
  }).compileComponents();
});
```

---

## –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ò—Å–ø–æ–ª—å–∑—É—è callback done()
```typescript
it('–¥–æ–ª–∂–µ–Ω –∑–∞–≤–µ—Ä—à–∏—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é', (done) => {
  component.asyncMethod().subscribe(result => {
    expect(result).toBeTruthy();
    done();
  });
});
```

### –ò—Å–ø–æ–ª—å–∑—É—è fakeAsync –∏ tick()
```typescript
import { fakeAsync, tick, flush } from '@angular/core/testing';

it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å timeout', fakeAsync(() => {
  let completed = false;
  
  setTimeout(() => {
    completed = true;
  }, 1000);

  expect(completed).toBe(false);
  tick(1000);
  expect(completed).toBe(true);
}));

it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–∫–æ–≤', fakeAsync(() => {
  component.startProcess();
  
  tick(100); // –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—å—Å—è –Ω–∞ 100–º—Å
  expect(component.step).toBe(1);
  
  tick(200); // –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—å—Å—è –µ—â–µ –Ω–∞ 200–º—Å
  expect(component.step).toBe(2);
  
  flush(); // –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ –æ–∂–∏–¥–∞—é—â–∏–µ —Ç–∞–π–º–µ—Ä—ã
}));
```

### –ò—Å–ø–æ–ª—å–∑—É—è async –∏ whenStable
```typescript
import { waitForAsync } from '@angular/core/testing';

it('–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å async', waitForAsync(() => {
  fixture.whenStable().then(() => {
    fixture.detectChanges();
    expect(component.data).toBeDefined();
  });
}));
```

---

## –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —à–ø–∏–æ–Ω—ã

### –°–æ–∑–¥–∞–Ω–∏–µ —à–ø–∏–æ–Ω–æ–≤
```typescript
// –®–ø–∏–æ–Ω –Ω–∞ –º–µ—Ç–æ–¥ –æ–±—ä–µ–∫—Ç–∞
const obj = { method: () => '–æ—Ä–∏–≥–∏–Ω–∞–ª' };
spyOn(obj, 'method').and.returnValue('–∑–∞–º–æ–∫–∞–Ω–Ω—ã–π');

// –®–ø–∏–æ–Ω –Ω–∞ –º–µ—Ç–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
spyOn(component, 'save');
component.save();
expect(component.save).toHaveBeenCalled();

// –®–ø–∏–æ–Ω —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏
spyOn(service, 'update');
component.updateItem(1, '–¥–∞–Ω–Ω—ã–µ');
expect(service.update).toHaveBeenCalledWith(1, '–¥–∞–Ω–Ω—ã–µ');
```

### –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —à–ø–∏–æ–Ω–∞
```typescript
// –í–µ—Ä–Ω—É—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
spy.and.returnValue(42);

// –í–µ—Ä–Ω—É—Ç—å —Ä–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö
spy.and.returnValues(1, 2, 3);

// –í—ã–∑–≤–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥
spy.and.callThrough();

// –í—ã–∑–≤–∞—Ç—å —Ñ–µ–π–∫–æ–≤—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
spy.and.callFake((arg) => arg * 2);

// –í—ã–±—Ä–æ—Å–∏—Ç—å –æ—à–∏–±–∫—É
spy.and.throwError('–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ');

// –í–µ—Ä–Ω—É—Ç—å observable
spy.and.returnValue(of({ data: '–∑–Ω–∞—á–µ–Ω–∏–µ' }));

// –í–µ—Ä–Ω—É—Ç—å promise
spy.and.returnValue(Promise.resolve('–∑–Ω–∞—á–µ–Ω–∏–µ'));
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–∑–æ–≤–æ–≤ —à–ø–∏–æ–Ω–∞
```typescript
expect(spy).toHaveBeenCalled();
expect(spy).toHaveBeenCalledTimes(3);
expect(spy).toHaveBeenCalledWith('–∞—Ä–≥1', '–∞—Ä–≥2');
expect(spy).not.toHaveBeenCalled();

// –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—ã–∑–æ–≤–∞—Ö
const calls = spy.calls.all();
const firstCall = spy.calls.first();
const mostRecentCall = spy.calls.mostRecent();
const callCount = spy.calls.count();

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç—ã
expect(spy.calls.argsFor(0)).toEqual(['–∞—Ä–≥1', '–∞—Ä–≥2']);
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ DOM

### –ó–∞–ø—Ä–æ—Å —ç–ª–µ–º–µ–Ω—Ç–æ–≤
```typescript
// –ü–æ CSS —Å–µ–ª–µ–∫—Ç–æ—Ä—É
const element = compiled.querySelector('.my-class');
const elements = compiled.querySelectorAll('button');

// –ü–æ test ID (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
const button = compiled.querySelector('[data-testid="submit-button"]');

// –ò—Å–ø–æ–ª—å–∑—É—è DebugElement
import { By } from '@angular/platform-browser';
const button = fixture.debugElement.query(By.css('button'));
const buttons = fixture.debugElement.queryAll(By.css('button'));
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
```typescript
it('–¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫', () => {
  const title = compiled.querySelector('h1');
  expect(title?.textContent).toContain('–ú–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫');
});

it('–¥–æ–ª–∂–µ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–∞', () => {
  const items = compiled.querySelectorAll('li');
  expect(items.length).toBe(3);
  expect(items[0].textContent).toBe('–≠–ª–µ–º–µ–Ω—Ç 1');
});
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ —ç–ª–µ–º–µ–Ω—Ç–∞
```typescript
it('–¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã', () => {
  const input = compiled.querySelector('input');
  expect(input?.getAttribute('type')).toBe('text');
  expect(input?.getAttribute('placeholder')).toBe('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç');
  expect(input?.hasAttribute('disabled')).toBe(false);
});
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ CSS –∫–ª–∞—Å—Å–æ–≤
```typescript
it('–¥–æ–ª–∂–µ–Ω –ø—Ä–∏–º–µ–Ω–∏—Ç—å CSS –∫–ª–∞—Å—Å—ã', () => {
  const element = compiled.querySelector('.item');
  expect(element?.classList.contains('active')).toBe(true);
  expect(element?.classList.contains('disabled')).toBe(false);
});
```

### –°–∏–º—É–ª—è—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```typescript
// –°–æ–±—ã—Ç–∏–µ –∫–ª–∏–∫–∞
it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–ª–∏–∫', () => {
  const button = compiled.querySelector('button') as HTMLButtonElement;
  button.click();
  fixture.detectChanges();
  expect(component.clicked).toBe(true);
});

// –°–æ–±—ã—Ç–∏–µ –≤–≤–æ–¥–∞
it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤–≤–æ–¥', () => {
  const input = compiled.querySelector('input') as HTMLInputElement;
  input.value = '–Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ';
  input.dispatchEvent(new Event('input'));
  fixture.detectChanges();
  expect(component.inputValue).toBe('–Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ');
});

// –°–æ–±—ã—Ç–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–ª–∞–≤–∏—à—É Enter', () => {
  const input = compiled.querySelector('input') as HTMLInputElement;
  const event = new KeyboardEvent('keyup', { key: 'Enter' });
  input.dispatchEvent(event);
  expect(component.submitted).toBe(true);
});

// –°–æ–±—ã—Ç–∏—è –º—ã—à–∏
const element = compiled.querySelector('.item');
element?.dispatchEvent(new MouseEvent('mouseenter'));
element?.dispatchEvent(new MouseEvent('mouseleave'));
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º

### –§–æ—Ä–º—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–æ–≤
```typescript
import { FormsModule } from '@angular/forms';

beforeEach(async () => {
  await TestBed.configureTestingModule({
    imports: [MyComponent, FormsModule]
  }).compileComponents();
});

it('–¥–æ–ª–∂–µ–Ω –ø—Ä–∏–≤—è–∑–∞—Ç—å input –∫ –º–æ–¥–µ–ª–∏', fakeAsync(() => {
  const input = compiled.querySelector('input') as HTMLInputElement;
  input.value = '—Ç–µ—Å—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ';
  input.dispatchEvent(new Event('input'));
  
  tick(); // –î–æ–∂–¥–∞—Ç—å—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ngModel
  fixture.detectChanges();
  
  expect(component.model.name).toBe('—Ç–µ—Å—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ');
}));
```

### –†–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —Ñ–æ—Ä–º—ã
```typescript
import { ReactiveFormsModule } from '@angular/forms';

it('–¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å —Ñ–æ—Ä–º—É —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é', () => {
  expect(component.form.get('email')?.value).toBe('');
  expect(component.form.get('password')?.value).toBe('');
});

it('–¥–æ–ª–∂–µ–Ω –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è', () => {
  const email = component.form.get('email');
  expect(email?.valid).toBe(false);
  expect(email?.hasError('required')).toBe(true);
  
  email?.setValue('test@example.com');
  expect(email?.valid).toBe(true);
});

it('–¥–æ–ª–∂–µ–Ω –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç email', () => {
  const email = component.form.get('email');
  email?.setValue('–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π-email');
  expect(email?.hasError('email')).toBe(true);
  
  email?.setValue('–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π@example.com');
  expect(email?.valid).toBe(true);
});

it('–¥–æ–ª–∂–µ–Ω –æ—Ç–∫–ª—é—á–∏—Ç—å –∫–Ω–æ–ø–∫—É –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–≥–¥–∞ —Ñ–æ—Ä–º–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω–∞', () => {
  expect(component.form.valid).toBe(false);
  const button = compiled.querySelector('button[type="submit"]') as HTMLButtonElement;
  expect(button.disabled).toBe(true);
});
```

---

## –û–±—â–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ @Input
```typescript
it('–¥–æ–ª–∂–µ–Ω –ø—Ä–∏–Ω—è—Ç—å –≤—Ö–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ', () => {
  component.title = '–¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫';
  fixture.detectChanges();
  
  const element = compiled.querySelector('h1');
  expect(element?.textContent).toBe('–¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫');
});
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π @Output
```typescript
it('–¥–æ–ª–∂–µ–Ω —ç–º–∏—Ç–∏—Ç—å –≤—ã—Ö–æ–¥–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ', () => {
  spyOn(component.itemSelected, 'emit');
  
  component.selectItem({ id: 1, name: '–≠–ª–µ–º–µ–Ω—Ç' });
  
  expect(component.itemSelected.emit).toHaveBeenCalledWith({ id: 1, name: '–≠–ª–µ–º–µ–Ω—Ç' });
});

// –ò–ª–∏ —Å–ª—É—à–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ
it('–¥–æ–ª–∂–µ–Ω —ç–º–∏—Ç–∏—Ç—å –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É', (done) => {
  component.itemSelected.subscribe(item => {
    expect(item.id).toBe(1);
    done();
  });
  
  const button = compiled.querySelector('button');
  button?.click();
});
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ö—É–∫–æ–≤ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
```typescript
it('–¥–æ–ª–∂–µ–Ω –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ ngOnInit', () => {
  spyOn(service, 'loadData').and.returnValue(of(['–¥–∞–Ω–Ω—ã–µ']));
  
  component.ngOnInit();
  
  expect(service.loadData).toHaveBeenCalled();
  expect(component.data).toEqual(['–¥–∞–Ω–Ω—ã–µ']);
});

it('–¥–æ–ª–∂–µ–Ω –æ—á–∏—Å—Ç–∏—Ç—å—Å—è –≤ ngOnDestroy', () => {
  spyOn(component.subscription, 'unsubscribe');
  
  component.ngOnDestroy();
  
  expect(component.subscription.unsubscribe).toHaveBeenCalled();
});
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
```typescript
it('–¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç –∫–æ–≥–¥–∞ —É—Å–ª–æ–≤–∏–µ –∏—Å—Ç–∏–Ω–Ω–æ', () => {
  component.showElement = true;
  fixture.detectChanges();
  
  const element = compiled.querySelector('[data-testid="conditional"]');
  expect(element).toBeTruthy();
});

it('–¥–æ–ª–∂–µ–Ω —Å–∫—Ä—ã—Ç—å —ç–ª–µ–º–µ–Ω—Ç –∫–æ–≥–¥–∞ —É—Å–ª–æ–≤–∏–µ –ª–æ–∂–Ω–æ', () => {
  component.showElement = false;
  fixture.detectChanges();
  
  const element = compiled.querySelector('[data-testid="conditional"]');
  expect(element).toBeFalsy();
});
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ *ngFor
```typescript
it('–¥–æ–ª–∂–µ–Ω —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–∞', () => {
  component.items = [
    { id: 1, name: '–≠–ª–µ–º–µ–Ω—Ç 1' },
    { id: 2, name: '–≠–ª–µ–º–µ–Ω—Ç 2' },
    { id: 3, name: '–≠–ª–µ–º–µ–Ω—Ç 3' }
  ];
  fixture.detectChanges();
  
  const items = compiled.querySelectorAll('.item');
  expect(items.length).toBe(3);
  expect(items[0].textContent).toContain('–≠–ª–µ–º–µ–Ω—Ç 1');
  expect(items[1].textContent).toContain('–≠–ª–µ–º–µ–Ω—Ç 2');
  expect(items[2].textContent).toContain('–≠–ª–µ–º–µ–Ω—Ç 3');
});
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
```typescript
it('–¥–æ–ª–∂–µ–Ω –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ', () => {
  component.errorMessage = '–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫';
  fixture.detectChanges();
  
  const error = compiled.querySelector('[data-testid="error"]');
  expect(error).toBeTruthy();
  expect(error?.textContent).toBe('–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫');
});

it('–¥–æ–ª–∂–µ–Ω –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É —Å–µ—Ä–≤–∏—Å–∞', fakeAsync(() => {
  mockService.getData.and.returnValue(throwError(() => new Error('–û—à–∏–±–∫–∞ API')));
  
  component.loadData();
  tick();
  
  expect(component.error).toBe('–û—à–∏–±–∫–∞ API');
  expect(component.loading).toBe(false);
}));
```

---

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–∞—Ç—á–µ—Ä–æ–≤ Jasmine

```typescript
// –†–∞–≤–µ–Ω—Å—Ç–≤–æ
expect(value).toBe(expected);              // ===
expect(value).toEqual(expected);           // –≥–ª—É–±–æ–∫–æ–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ
expect(value).not.toBe(expected);

// –ò—Å—Ç–∏–Ω–Ω–æ—Å—Ç—å
expect(value).toBeTruthy();
expect(value).toBeFalsy();
expect(value).toBeNull();
expect(value).toBeUndefined();
expect(value).toBeDefined();

// –ß–∏—Å–ª–∞
expect(value).toBeGreaterThan(10);
expect(value).toBeGreaterThanOrEqual(10);
expect(value).toBeLessThan(10);
expect(value).toBeLessThanOrEqual(10);
expect(value).toBeCloseTo(10.5, 1); // —Ç–æ—á–Ω–æ—Å—Ç—å

// –°—Ç—Ä–æ–∫–∏
expect(string).toContain('–ø–æ–¥—Å—Ç—Ä–æ–∫–∞');
expect(string).toMatch(/regex/);
expect(string).toMatch('–ø–∞—Ç—Ç–µ—Ä–Ω');

// –ú–∞—Å—Å–∏–≤—ã
expect(array).toContain(item);
expect(array.length).toBe(3);

// –û–±—ä–µ–∫—Ç—ã
expect(obj).toHaveProperty('key');
expect(obj.key).toBe('value');

// –û—à–∏–±–∫–∏
expect(() => fn()).toThrow();
expect(() => fn()).toThrowError('—Å–æ–æ–±—â–µ–Ω–∏–µ');
expect(() => fn()).toThrowError(Error);

// –ü—Ä–æ–º–∏—Å—ã
await expectAsync(promise).toBeResolved();
await expectAsync(promise).toBeRejected();
await expectAsync(promise).toBeResolvedTo(value);
```

---

## –°–æ–≤–µ—Ç—ã –∏ –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞—Ç—Ä–∏–±—É—Ç—ã data-testid** –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
2. **–ú–æ–∫–∏—Ä—É–π—Ç–µ –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤
3. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –∞ –Ω–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é**
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤** –∫–æ—Ç–æ—Ä—ã–µ –æ–±—ä—è—Å–Ω—è—é—Ç —á—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è
5. **–î–µ—Ä–∂–∏—Ç–µ —Ç–µ—Å—Ç—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏** - –∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
6. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏** –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –æ—à–∏–±–æ–∫
7. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ beforeEach** –¥–ª—è –æ–±—â–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
8. **–í—ã–∑—ã–≤–∞–π—Ç–µ fixture.detectChanges()** –ø–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
9. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ fakeAsync** –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ-–≤—ã–≥–ª—è–¥—è—â–∏—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
10. **–ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏ describe

---

–°—á–∞—Å—Ç–ª–∏–≤–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! üß™


<div
  [ngClass]="getItemClasses()"
  (mouseenter)="onMouseEnter()"
  (mouseleave)="onMouseLeave()"
  data-testid="todo-item"
  [attr.data-todo-id]="todo.id"
>
  <div class="todo-content">
    <!-- Checkbox –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ -->
    <input
      type="checkbox"
      [checked]="todo.completed"
      (change)="onToggle()"
      class="todo-checkbox"
      [attr.data-testid]="'checkbox-' + todo.id"
      [attr.aria-label]="'–û—Ç–º–µ—Ç–∏—Ç—å –∑–∞–¥–∞—á—É: ' + todo.title"
    />

    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–¥–∞—á–∏ -->
    <div class="todo-info">
      <h3
        class="todo-title"
        [attr.data-testid]="'title-' + todo.id"
      >
        {{ todo.title }}
      </h3>

      <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ -->
      <span
        class="todo-status"
        [attr.data-testid]="'status-' + todo.id"
      >
        {{ getStatusText() }}
      </span>

      <!-- –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è -->
      <span
        class="todo-date"
        [attr.data-testid]="'date-' + todo.id"
      >
        {{ getFormattedDate() }}
      </span>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
    <div class="todo-actions">
      @if (canEdit) {
        <button
          class="btn-edit"
          (click)="onEdit()"
          [attr.data-testid]="'edit-btn-' + todo.id"
          aria-label="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"
        >
          ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
        </button>
      }

      <button
        class="btn-delete"
        (click)="onDelete()"
        [attr.data-testid]="'delete-btn-' + todo.id"
        aria-label="–£–¥–∞–ª–∏—Ç—å"
      >
        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
      </button>
    </div>
  </div>

  <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤—ã–¥–µ–ª–µ–Ω–∏—è -->
  @if (isHighlighted) {
    <div
      class="highlight-indicator"
      data-testid="highlight-indicator"
    >
      ‚≠ê –í—ã–¥–µ–ª–µ–Ω–æ
    </div>
  }
</div>

